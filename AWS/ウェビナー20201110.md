# はじめてのアマゾン ウェブ サービス for Developer

## 障害を踏まえた設計指針

RTO： 目標復旧時間。何時間で復旧させるか  
監視の設計に関わる

## RPO: 目標復旧時点。データ喪失許容時間  
バックアップの設計に関わる

## VPC

各AZごとにサブネットを作る

インターネットゲートウェイがないと、外と通信できない

どういう構成にするかを設計する必要がある。  
プライベートにはデータベースなど。

## EC2

時間単位でOSを使う

AMI amazon machine image 

インスタンスは永続的にデータを持つ機能はない→外部にEBSやS3を使う必要がある  
バックアップ = スナップショット

## Amazon RDS

あらかじめ機能化されたDB

oracle, mysql, postgresqlとか

メインDBとバックアップを自動的に入れ替える

## S3

オブジェクトストレージ。静的コンテンツの保存に使う

保存されたデータがオブジェクトになっている。httpsでファイルを取得する

大量の画像、大量のpdfとか向いている

S3の方が静的コンテンツに向いている。EBSの方が10倍高価になっている

オートスケーリング。複数のAZに分散してサーバーがある場合は、ロードバランサーが必要になる。  
容量が増えるたびにAuto Scalingがインスタンスを増やして、ロードバランサーの下にくっつける。

## 「メカニズム」

自動化のための繰り返し作業

infrastructure as code IaC

定義ファイルで環境を作る。
